# Http协议

简介：本文为Http协议笔记，完整笔记详见[Github](https://github.com/MrEnvision/Front-end_learning_notes)

作者：[Envision](https://github.com/MrEnvision) 联系邮箱：[EnvisionShen@gmail.com](mailto:EnvisionShen@gmail.com)

> HTTP是Hyper Text Transfer Protocol（超文本传输协议）的缩写，它是一个应用层协议，由请求和响应构成，是一个标准的客户端服务器模型。HTTP是一个无状态的协议。

## 1、Http协议特点

* 无连接 —— 限制每次连接只处理一个请求
* 无状态 —— 协议对于事务处理没有记忆能力
* 简单快速 —— 客户向服务器请求服务只需传送请求方法和路径
* 灵活 —— HTTP允许传输任意类型的数据对象，由Content-Type加以标记

## 2、请求/响应报文

### 2.1 请求报文

![](../../.gitbook/assets/请求报文.jpeg)

* 请求行 —— 请求类型 + 要访问的资源 + HTTP协议版本号
* 请求头 —— 用来说明服务器要使用的附加信息（一些键值对），例如：User-Agent、 Accept、Content-Type、Connection，详见[Http请求头](http-qing-qiu-tou.md)
* 空行 —— 分割请求头与请求体
* 请求体 —— 可以添加任意的其他数据

### 2.2 响应报文

![](../../.gitbook/assets/响应报文.jpeg)

* 状态行 —— HTTP协议版本号 + 状态码 + 状态消息
* 消息报头 —— 说明客户端要使用的一些附加信息，如：Content-Type、charset、响应的时间，详见[Http请求头](http-qing-qiu-tou.md)
* 空行 —— 分割响应头与响应体
* 响应正文 —— 返回给客户端的文本信息 

## 3、请求方法

* GET —— 获取资源
* POST —— 传输资源
* PUT —— 更新资源
* DELETE —— 删除资源
* HEAD —— 获取报文首部
* TRACE —— 回显服务器收到的请求，主要用于测试或诊断
* OPTION —— 请求一些选项的信息，客户端查看服务器的性能
* CONNECT —— 用于代理服务器

### 3.1 get/post的区别

* GET在浏览器回退时是无害的，而POST会再次提交
* Get请求能缓存，Post不能
* Post相对Get相对安全一些，因为Get请求都包含在URL中，而且会被浏览器保存记录，Post不会。但是再抓包的情况下都是一样的。
* Post 可以通过 request body来传输比 Get 更多的数据 
* URL有长度限制，会影响 Get 请求，但是这个长度限制是浏览器规定的
* Post 支持更多的编码类型且不对数据类型限制
* POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok\(返回数据\)

## 4、状态码

* 1xx：指示信息--表示请求已接收，继续处理。
* 2xx：成功--表示请求已被成功接收、理解、接受。
  * **200** OK
* 3xx：重定向--要完成请求必须进行更进一步的操作。
  * **301** 永久性重定向，表示资源已被分配了新的 URL
    * **302** 临时性重定向，表示资源临时被分配了新的 URL
    * **304** 未修改，重定位到浏览器
* 4xx：客户端错误--请求有语法错误或请求无法实现。
  * **404** 在服务器上没有找到请求的资源
    * **403** forbidden，表示对请求资源的访问被服务器拒绝
* 5xx：服务器端错误--服务器未能实现合法的请求。
  * **500** 表示服务器端在执行请求时发生了错误
    * 501 表示服务器不支持当前请求所需要的某个功能
    * **503** 表明服务器暂时处于超负载或正在停机维护，无法处理请求

如果发现本项目有错误，欢迎提交 issues 指正。

